= Configure Security Parameters of SSH Connection

Anypoint Connector for SFTP (SFTP Connector) enables you to override security parameters in the SFTP connection configuration of the connector. The following example shows how to configure the same in Anypoint Studio.

== Creating Config Override File

image::sftp-override-config-file-contents.png[Contents of the override config file]

. Create a config file (Eg: `mule_sshd_config`) with contents as mentioned above. This file follows the format of a `sshd_config` file.
. Configure the keys and values accordingly. If any key is not provided then default values will be taken into consideration.

Below is an example where the config file is present in `src/main/resources` folder:

image::sftp-override-config-file-location.png[Location of the override config file]

== Configuring Override File in Anypoint

. In Studio, navigate to the *Global Elements* tab.
. In the Choose Global Type window, type `sftp` in the search bar.
. Select *SFTP Config*.
. Click *OK*.
. Go to *Advanced* Tab.
. Under *Security Configuration* provide `SSH Config Override File`
. Provide the path to the file. Example: `${app.home}/mule_sshd_config`
. Complete the remaining connection fields.
. Click *Test Connection...*.
. Click *OK*.

image::sftp-override-security-parameters.png[SFTP Configuration with preferred authentication field set to GSSAPI_WITH_MIC]

In the *Configuration XML* editor window, the configuration looks like this:

[source,xml,linenums]
----
<sftp:config name="SFTP_Config" doc:name="SFTP Config" >
    <sftp:connection host="localhost" sshConfigOverride="${app.home}/mule_sshd_config">
    </sftp:connection>
</sftp:config>
----

== Verification

* Search for the log `Read the config file` & verify if the filename & configuration values fetched from the file are correct.
* Ignored configs can be found with the log line `Config keys found but ignored`.
* Furthermore, if the connector is unable to locate the file, then it'll log a log line `Couldn't locate config file`.

== See Also
* xref:sftp-examples.adoc[]
