= Using Anypoint Code Builder to Configure HTTP Connector

include::connectors::partial$configure-acb-connectors-partial.adoc[tag="acb-connector-config-intro"]

== Create a New Integration Project

include::connectors::partial$configure-acb-connectors-partial.adoc[tag="acb-create-integration-project"]

== Add the Connector to Your Integration Project

include::connectors::partial$configure-acb-connectors-partial.adoc[tag="acb-add-connector-to-project"]

[[configuring-http-source]]
== Configure the Source For the Flow

include::connectors::partial$configure-acb-connectors-partial.adoc[tag="acb-configure-source"]

== Add Components to Your Project

include::connectors::partial$configure-acb-connectors-partial.adoc[tag="acb-add-components-to-project"]

== Configure the Component Attributes

include::connectors::partial$configure-acb-connectors-partial.adoc[tag="acb-configure-attributes"]

=== Configure Attributes for the HTTP Listener

The Anypoint Connector for HTTP (HTTP Connector) *Listener* component enables you to set up an HTTP server and trigger flows when receiving HTTP requests.

To configure the HTTP *Listener* attributes in the UI, see <<configure-http-source,Configuring the Source For the Flow>>.

[[configuring-basic-security-filter]]
=== Configure the Attributes for Basic Security Filter

The *Basic security filter* component authenticates received HTTP requests. Use this component after a *Listener* component in your integration flow.

. Click the *Basic security filter* component on the canvas.
. In the *General* tab, configure the following attributes: 
+
[%header%autowidth.spread]
|===
| UI Field | Description 
| Realm | Authentication realm. 
| Security Provider| This attribute is not currently enabled in the configuration UI. Configure it in the XML editor. See xref:http-documentation.adoc#basicSecurityFilter[Basic Security Filter]. 
| Attributes | HTTP Request attributes defined in the HTTP *Listener* source to check the `Authorization` header. 
|===


[[configure-http-request]]
=== Configure Attributes for the HTTP Request

The Anypoint Connector for HTTP (HTTP Connector) *Request* operation enables you to consume an external HTTP service using the default `GET` method. Otherwise, you can choose which methods the operation accepts.

To configure the attributes for HTTP *Request* in the Anypoint Code Builder UI:

. Click the *Request* component on the canvas.
. In the *General* tab, configure the following attributes:
+
[%header%autowidth.spread]
|===
| UI Field | Description 
| Method | To allow all HTTP methods (default), do not define this attribute. To restrict certain methods, specify all allowed HTTP methods, for example, `GET, POST`, as a comma-separated list. 
| URI Settings URL |  URL to send the request to.
| URI Settings Path |  Path for where to send the request. 
|Request Body | Body of the request response message. 
| Request Headers |Headers to include in the response message.
|URI Parameters |URI parameters used to create the request.
| Query Parameters |Query parameters to include in the request.
| Correlations ID | Defines whether to include an outbound correlation ID in the request. 
|===

. Select the *Advanced* tab to configure the following attributes:
+
[%header%autowidth.spread]
|===
| UI Field | Description 
| Output MIME type |MIME type of the payload this component outputs.
| Parameters |Appends a key-value pair for a reader property to the value of the Output MIME attribute. Multiple key-value pairs are allowed. 
|Output encoding |Encoding of the payload this component outputs.
|Streaming Strategy | This attribute is not currently enabled in the configuration UI. Configure it in the XML editor. See xref:connectors::streaming-strategies.adoc[].
| Follow redirects | Specifies whether or not to follow redirects.
| Send body mode | Specifies whether the request contains a body. Select *Auto* to specify that the behavior is determined by the defined allowed HTTP methods (GET, HEAD, and OPTIONS do not send a body).
| Request streaming mode |Defines whether the request is sent using streaming.
| Response timeout | Specifies the maximum time in milliseconds that the request element blocks the execution of the flow waiting for the HTTP response.
|Response validator | Configures default error handling for the request. This attribute is not currently enabled in the configuration UI. Configure it in the XML editor. See xref:http-documentation.adoc#SuccessStatusCodeValidator[Success Status Code Validator] and xref:http-documentation.adoc#FailureStatusCodeValidator[Failure Status Code Validator].
|Target Variable | Name of the variable on which the operation's output is placed.
|Target Value | An expression that's evaluated against the operation's output. The outcome of that expression is stored in the target variable.
| Error Mappings | This attribute is not currently enabled. 
|Reconnection Strategy |This attribute is not currently enabled in the configuration UI. Configure it in the XML editor. See xref:http-documentation.adoc#reconnect[Reconnect] and xref:http-documentation.adoc#reconnect[Reconnect Forever]. 
|===

[[configure-load-static-resource]]
=== Configure Attributes for Load Static Resource

The static resource serves static content to use with HTTP. The request path is used to look up the resource. 

To configure the attributes for HTTP *Load static resource* in the Anypoint Code Builder UI:

. Click the *Load static resource* component on the canvas.
. In the *General* tab, configure the following attributes:
+
[%header%autowidth.spread]
|===
| UI Field | Description 
|Resource base path |The base path of the resource that serves up the content, for example, `/Users/maxthemule/` resources.
|Default file | The default file to serve when a directory is specified. The default is `index.html`.
|Attributes | The HTTP request attributes defined in the HTTP Listener source to check the required resources. 
|===
. Select the *Advanced* tab to configure the following attributes: 
+
[%header%autowidth.spread]
|===
| UI Field | Description 
|Output MIME type | MIME type of the payload this component outputs.
| Parameters |Appends a key-value pair for a reader property to the value of the Output MIME attribute. Multiple key-value pairs are allowed. 
| Output encoding | Encoding of the payload this component outputs.
|Target Variable | Name of the variable that stores the operation's output.
|Target Value |Expression that evaluates the operation's output. The expression outcome is stored in the target variable.
|Error Mappings | This attribute is not currently enabled.
|===


[[creating-config-xml-files]]
== Create a New Configuration XML File

include::connectors::partial$configure-acb-connectors-partial.adoc[tag="acb-create-config-file-acb"]

[[testing-http-listener-connection]]
== Test an HTTP Listener Connection

include::connectors::partial$configure-acb-connectors-partial.adoc[tag="acb-http-listener-test-connection"]

== See Also

include::connectors::partial$configure-acb-connectors-partial.adoc[tag="acb-template-see-also"]
* xref:http-documentation.adoc[HTTP Connector Reference]