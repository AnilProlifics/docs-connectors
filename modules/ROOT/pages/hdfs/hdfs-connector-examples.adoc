= Hadoop (HDFS) - Examples - Mule 4
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]

The following example shows how to create a text file into HDFS using the connector:

. In Anypoint Studio, click *File* > *New* > *Mule Project*, name the project, and click *OK*.
. In the search field:
.. Type "http" and drag the *HTTP Listener* operation to the canvas.
.. Click the green plus sign to the right of *Connector Configuration*.
.. In the next screen, click *OK* to accept the default settings. Name the *Path* endpoint `/createFile`.
. In the Search bar, type "hdfs" and drag the HDFS Write operation to the canvas.
. Set *Path* to `/test.txt`. This is the path of the file that is going to be created by HDFS. Leave default values for the other options.
. Run the application.
. From an HTTP client such as Postman or curl, make a POST request with "Content-type:plain/text" to `+localhost:8081/createFile+` with the content you want to write as a payload, for example, `curl -X POST -H "Content-Type:plain/text" -d "payload to write to file" localhost:8090/createFile`.
. Verify that the `/test.txt` file has been created and has your content by using Hadoop explorer.

== Configure the Connector for Windows

This example shows how to set up Hadoop (HDFS) Connector for Windows using Anypoint Studio.

. Download the Hadoop files and paste them into a local folder.
. Set the following Windows environment variables:
* `HADOOP_HOME: C:\Users\user\hadoop\winutils-master\hadoop-2.7.1`
* `KRB5_CONFIG: C:\Users\user\hadoop`
* `KRB5CCNAME: C:\Users\user\hadoop\tmp\krb5cache`
. In the MuleSoft application, configure the Set Variable component: 
.. In the *Mule Palette* search field, type `Set Variable`. 
.. Drag the *Set Variable* component onto the canvas. 
.. Set the `KRB5.conf` location in a flow variable, as follows: +
`${mule.home}${file.separator}apps${file.separator}${app.name}${file.separator}classes${file.separator}krb5.conf`
+
.Enter the values for the Set Variable component.
image::hdfs/hdfs-set-variable.png[Screenshot of the fields for the Set Variable component]
+
<1> Enter a name for the variable in this field.
<2> Enter the location for the Kerberos configuration in this field. 
. In the MuleSoft application, configure the expression-comp In the search field, type expression-component. Drag the connector expression-component on the canvas. Set the Expression like: System.setProperty("java.security.krb5.conf",flowVars.krb5Loc);
In the search field, type set-variable. Drag the connector set-variable component on the canvas. Set the TrustStore Location like this: ${mule.home}${file.separator}apps${file.separator}${app.name}${file.separator}classes${file.separator}hdfs.ts
In the search field, type expression-component. Drag the connector expression-component on the canvas. Set the System.setProperty("javax.net.ssl.trustStore",flowVars.HDFS_TrustStore);
In the search field, type expression-component. Drag the connector expression-component on the canvas. Set the System.setProperty("javax.net.ssl.trustStorePassword","Kellogg1");


== See Also

https://help.mulesoft.com[MuleSoft Help Center]
