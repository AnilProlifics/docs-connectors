= Use Flow Designer to Configure a Connector
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]

 Anypoint Design Center's Flow Designer enables you to create apps visually. For more information, see the xref:design-center::fd-tour.adoc[Flow Designer Tour].

To create an app in Flow Designer:

. Configure the trigger (input source) for the flow.
. Configure the target component for your app.

[[configure-input-source]]
== Configure the Trigger for the Flow

. Log into Anypoint Platform.
. Click *Start designing*.
. In Design Center, click *Create new*.
. Click *Create new application*.
. Enter a project name and click *Create*.
. Click *Go straight to canvas* to exit from *Let's get started*.
+
.Clicking *Go straight to canvas* takes you to a trigger card.
image::introduction/intro-config-fd-go-to-canvas.png[Exit from the Let's Get Started screen]
+
. Click on the empty trigger card in the middle of the canvas to expand it.
. Configure one of these triggers for the connector:
* <<http-listener,HTTP Listener>>
* <<scheduler,Scheduler>>
* <<connector-specific,A connector-specific trigger>>

[[http-listener]]
=== Use HTTP Listener as a Trigger

`HTTP Listener` listens for HTTP requests on a specified path and initiates the flow when it receives a request. To use `HTTP Listener` as a trigger:

. Follow the procedure described in <<configure-input-source,Configure an Input Source for the Flow>>.
. In the *Search* field, enter *HTTP*.
. In the *Operation* field, click *HTTP Listener*.
. In the *Path* field, specify the path on which `HTTP Listener` listens for requests.
. Click *Edit*:
+
.Clicking *Edit* takes you to a screen where you can configure the HTTP Listener connection.
image::introduction/intro-config-fd-exit.png[CLick Edit]
+
. Click *Add Connection*.
. In the *Connection Name* field, enter a connection name.
. Select *Listener* as the connection type.
. Enter values for the *Host* and *Port* fields:
* To listen on a specific port for every network interface on the server, leave the default value `0.0.0.0` for *Host*.
* To listen for incoming requests generated inside the server, set the *Port* value to `localhost`.
. Optionally configure a reconnection strategy by expanding the *Advanced* tab and completing the fields in the *Connection* section.
+
For example, this reconnection strategy does the following:
+
* Forces the deployment to fail if the connection fails and configured reconnection attempts are exhausted
* Limits the number of reconnection attempts to three at a frequency of every 5000 milliseconds (ms)
+
.Use the fields in the Reconnection Strategy section to specify reconnection options
image::introduction/intro-config-overview-reconnection-strategy-fd.png[Reconnection strategy example using Flow Designer]
. To use TLS, scroll down and specify the required information in the *TLS Configuration* section.
. Click *Save*.

For more information about configuring `HTTP Listener`, see the xref:http/http-documentation.adoc[HTTP Connector Reference].

[[scheduler]]
=== Use Scheduler as a Trigger

Use `Scheduler` to initiate a flow when a time-based condition is met. You can configure `Scheduler` to trigger a flow at a regular interval or give it a more flexible cron expression.

To use `Scheduler` as a trigger:

. Follow the procedure described in <<configure-input-source,Configure an Input Source for the Flow>>.
. In the *Search* field, enter `Scheduler`.
. Select *Scheduler*.
. In the *Scheduling Strategy* field, select whether you want to use a fixed frequency or cron expression to trigger the flow:
+
For example, the following configuration directs `Scheduler` to:

* Wait 10 seconds before initiating the flow for the first time after the app starts
* Initiate the flow every 30 seconds after the initial 10 second delay
+
.Select `Fixed Frequency` in the *Scheduling Strategy* field to initiate a flow at regular intervals.
image::introduction/intro-config-fd-scheduler-fixed.png[Configuration for a fixed scheduling strategy]
+

The following configuration uses a cron expression to write `my message` to the log every second:
+
.Select `Cron` in the *Scheduling Strategy* field to use a cron expression to specify when to initiate a flow.
image::introduction/intro-config-fd-scheduler-cron.png[Configuration using a cron expression]

For more information about configuring `Scheduler`, see xref:mule-runtime::scheduler-concept.adoc[Scheduler Endpoint]


[[connector-specific-trigger]]
=== Use a Connector-Specific Trigger

If a connector has associated triggers, you can use a connector-specific trigger to initiate the flow. For example, if you are configuring an app that contains Amazon SQS Connector, you can use the `Amazon SQS Receive Messages` trigger to initiate a flow each time the configured Amazon SQS queue receives a new message.

To start the configuration for connector-specific triggers, follow these steps:

. Follow the procedure described in <<configure-input-source,Configure an Input Source for the Flow>>.
. In the *Trigger* field, search for and select the connector.
. If the connector has multiple triggers, select the trigger to use. (If the connector has one trigger, that trigger is selected automatically.)

Each connector-specific trigger has a unique configuration, but most configurations require the following actions:

* Completing the required fields.
* Selecting an existing connection or configuring a new one.

For more information about configuring a connector-specific trigger, see the reference guide for the associated connector.

== Configure the Target Component

After you configure a trigger for a connector, you can configure the connector as the target component:

. Click *+* next to the trigger card.
+
.Clicking the + icon brings up a screen where you can select the target connector and operation.
image::introduction/intro-config-fd-plus-target.png[Click the Plus Sign]
+
. In the *Select a component* screen, search for and select the target connector.
. Select the target operation.
. On the *General* tab, complete the required fields.
. Select an existing connection configuration or add a new one.
. To add a new connection:
.. Click *Add Connection*.
.. Specify a connection name.
.. In the *Connection Type* field, select an authentication type.
.. Complete the required fields for the authentication type.
. Click *Test* to confirm that Mule can connect with the specified server using the configured authentication.
. Click *Save*.
. Optionally click the *Advanced* tab to create a reconnection policy or expiration policy.
+
NOTE: The available options on the *Advanced* tab vary by connector.
+
. If you made additional configuration changes, click *Save* again.

== See Also

* xref:introduction/intro-connector-configuration-overview.adoc[Anypoint Connector Configuration]
* https://help.mulesoft.com[MuleSoft Help Center]
