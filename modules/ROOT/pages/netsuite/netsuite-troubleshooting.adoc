= Netsuite Connector Troubleshooting Guide
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]
:keywords: anypoint studio, esb, connectors, http, https, http headers, troubleshooting, rest, raml

You might encounter the following issues while working with the AnyPoint Connector for NetSuite (NetSuite Connector):

* <<connectivity-test-failure, A connectivity test fails during application startup.>>
* The connector does not log requests and responses.
* The connector returns a permissions error when fetching metadata.

== Connectivity Test Failure During Application Startup [[connectivity-test-failure]]

If a connectivity test fails during application startup, add the following `<reconnection>` statement to the end of the connector's connection XML:

[source,xml,linenums]
----
<reconnection failsDeployment="true">
	<reconnect count="2" frequency="5" />
</reconnection>
----

For example:

[source,xml,linenums]
----
<netsuite:config name="NetSuite_Config" doc:name="NetSuite Config" doc:id="8a4f73c2-e5e1-4f5d-8978-980069828ff0" >
	<netsuite:login-authentication-connection email="${netsuite.email}" password="${netsuite.password}" account="${netsuite.account}" roleId="${netsuite.roleId}" applicationId="${netsuite.applicationId}" readTimeout="60000" connectionTimeout="60000">
		<reconnection failsDeployment="true">
			<reconnect count="2" frequency="5" />
		</reconnection>
	</netsuite:login-authentication-connection>
----

image::netsuite/netsuite-reconnection-test-fix.png[Setting reconnection fix]

== No Logging of Log Requests and Responses [[logging-request-responses]]

To log requests and responses when using the NetSuite connector, add this XML statement to the 'Log4j' configuration file:

[source,xml,linenums]
----
<AsyncLogger
  name="org.mule.module.netsuite.extension.internal.connection.HttpWithCookieMessageDispatcher"
  level="DEBUG"/>
<Root level="debug">
    <AppenderRef ref="Console" />
</Root>
----

== Permissions Error when Fetching Metadata [permissions-error]]

To avoid receiving a permissions error when fetching metadata, enable the Control SuiteScript and Workflow Triggers in Web Services Request option in NetSuite for the role used in the connector configuration.
