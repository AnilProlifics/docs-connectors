= Azure Event Hubs Messaging Connector 1.0 Reference



== Configurations
---
[[Config]]
=== Config


Default configuration


==== Parameters

[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
|Name | String | Name for this configuration. Connectors reference the configuration with this name. | | x
| Connection a| <<Config_Connection, Connection>>
 | Connection types for this configuration. | | x
| Name a| String |  ID used to reference this configuration. |  | x
|===

==== Connection Types
[[Config_Connection]]
===== Connection


====== Parameters

[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Namespace a| String |  Namespace that exists in the Azure Event Hubs subscription. |  | x
| Shared Access Key Name a| String |  Name of the shared access key. |  | x
| Shared Access Key a| String |  Shared access key. |  | x
| Reconnection a| <<Reconnection>> a|  What to do if, when an app is deployed, a connectivity test does not pass after exhausting the associated reconnection strategy:

* `true`
+
Allow the deployment to fail.

* `false`
+
Ignore the results of the connectivity test. |  |
|===

== Supported Operations
* <<RetrieveEvent>>
* <<SendEvent>>
* <<SendEventsBatch>>

== Associated Sources
* <<EventListener>>



[[RetrieveEvent]]
== Retrieve Event
`<azure-event-hubs-messaging:retrieve-event>`


Retrieves an event from a specific event hub, consumer group, and partition.


=== Parameters

[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | Name of the configuration to use. | | x
| Event Hubs Position a| Enumeration, one of:

** EARLIEST
** LATEST
** OFFSET
** SEQUENCE |  Event Hubs position. |  EARLIEST |
| Offset Or Sequence a| Number | Defines the offset or the sequence number, depending on the type of EventHubsPosition selected, from which to receive the events. |  |
| Output Mime Type a| String |  MIME type of the payload that this operation outputs. |  |
| Output Encoding a| String |  Encoding of the payload that this operation outputs. |  |
| Config Ref a| ConfigurationProvider |  Name of the configuration used to execute this component. |  | x
| Event Hub a| String |  Event Hub name. |  | x
| Consumer Group a| String |  Consumer group name. |  | x
| Partition Id a| String |  Partition ID. |  | x
| Target Variable a| String |  Name of the variable that stores the operation's output. |  |
| Target Value a| String |  Expression that evaluates the operation's output. The outcome of the expression is stored in the *Target Variable* field. |  #[payload] |
| Reconnection Strategy a| * <<Reconnect>>
* <<ReconnectForever>> |  Retry strategy in case of connectivity errors. |  |
|===

=== Output

[%autowidth.spread]
|===
|Type |Binary
| Attributes Type a| <<EventAttributes>>
|===

=== For Configurations

* <<Config>>

=== Throws

* MULE:ANY
* AZURE-EVENT-HUBS-MESSAGING:CONNECTIVITY
* AZURE-EVENT-HUBS-MESSAGING:DESTINATION_NOT_FOUND
* AZURE-EVENT-HUBS-MESSAGING:INVALID_PARAMS
* AZURE-EVENT-HUBS-MESSAGING:INVALID_SIGNATURE
* AZURE-EVENT-HUBS-MESSAGING:OPERATION_TIMEOUT
* AZURE-EVENT-HUBS-MESSAGING:RETRY_EXHAUSTED


[[SendEvent]]
== Send a single event
`<azure-event-hubs-messaging:send-event>`

Sends a single event.


=== Parameters

[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | Name of the configuration to use. | | x
| Event Data a| Binary |  Content of the event. |  #[payload] |
| Message Id a| String |  Message ID. |  |
| Correlation Id a| String |  Correlation ID. |  |
| Output Mime Type a| String |  MIME type of the payload that this operation outputs. |  |
| Config Ref a| ConfigurationProvider |  Name of the configuration used to execute this component. |  | x
| Event Hub a| String |  Event Hub name. |  | x
| Partition Id a| String |  Partition ID. |  |
| Target Variable a| String |  Name of the variable that stores the operation's output. |  |
| Target Value a| String |  Expression that evaluates the operation's output. The outcome of the expression is stored in the *Target Variable* field. |  #[payload] |
| Reconnection Strategy a| * <<Reconnect>>
* <<ReconnectForever>> |  Retry strategy in case of connectivity errors. |  |
|===

=== Output

[%autowidth.spread]
|===
|Type |String
|===

=== For Configurations

* <<Config>>

=== Throws

* MULE:ANY
* AZURE-EVENT-HUBS-MESSAGING:CONNECTIVITY
* AZURE-EVENT-HUBS-MESSAGING:DESTINATION_NOT_FOUND
* AZURE-EVENT-HUBS-MESSAGING:INVALID_PARAMS
* AZURE-EVENT-HUBS-MESSAGING:INVALID_SIGNATURE
* AZURE-EVENT-HUBS-MESSAGING:OPERATION_TIMEOUT
* AZURE-EVENT-HUBS-MESSAGING:RETRY_EXHAUSTED


[[SendEventsBatch]]
== Send a batch of events
`<azure-event-hubs-messaging:send-events-batch>`

Sends a batch of events.

=== Parameters

[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | Name of the configuration to use. | | x
| Events Data a| Array of Any |  Content of the event. |  #[payload] |
| Output Mime Type a| String |  MIME type of the payload that this operation outputs. |  |
| Config Ref a| ConfigurationProvider |  Name of the configuration used to execute this component. |  | x
| Event Hub a| String |  Event Hub name. |  | x
| Partition Id a| String |  Partition ID. |  |
| Target Variable a| String |  Name of the variable that stores the operation's output. |  |
| Target Value a| String |  Expression that evaluates the operation's output. The outcome of the expression is stored in the *Target Variable* field. |  #[payload] |
| Reconnection Strategy a| * <<Reconnect>>
* <<ReconnectForever>> |  Retry strategy in case of connectivity errors. |  |
|===

=== Output

[%autowidth.spread]
|===
|Type |String
|===

=== For Configurations

* <<Config>>

=== Throws

* MULE:ANY
* AZURE-EVENT-HUBS-MESSAGING:CONNECTIVITY
* AZURE-EVENT-HUBS-MESSAGING:DESTINATION_NOT_FOUND
* AZURE-EVENT-HUBS-MESSAGING:INVALID_PARAMS
* AZURE-EVENT-HUBS-MESSAGING:INVALID_SIGNATURE
* AZURE-EVENT-HUBS-MESSAGING:OPERATION_TIMEOUT
* AZURE-EVENT-HUBS-MESSAGING:RETRY_EXHAUSTED


== Sources

[[EventListener]]
== Event Listener
`<azure-event-hubs-messaging:event-listener>`

Receives messages from a specific consumer group.


=== Parameters

[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | Name of the configuration to use. | | x
| Event Hubs Position a| Enumeration, one of:

** EARLIEST
** LATEST
** OFFSET
** SEQUENCE | Event Hubs position. |  LATEST |
| Offset Or Sequence a| Number | Defines the offset or the sequence number, depending on the type of EventHubsPosition selected, from which to receive the events. |  |
| Output Mime Type a| String |  MIME type of the payload that this operation outputs. |  |
| Output Encoding a| String |  Encoding of the payload that this operation outputs. |  |
| Config Ref a| ConfigurationProvider |  Name of the configuration used to execute this component. |  | x
| Primary Node Only a| Boolean |  Determines whether to execute this source on only the primary node when running Mule instances in a cluster. |  true |
| Redelivery Policy a| <<RedeliveryPolicy>> |  Defines a policy for processing the redelivery of the same message. |  |
| Event Hub a| String |  Event Hub name. |  | x
| Consumer Group a| String |  Consumer group name. |  | x
| Partition Id a| String |  Partition ID. |  |
| Reconnection Strategy a| * <<Reconnect>>
* <<ReconnectForever>> |  Retry strategy in case of connectivity errors. |  |
|===

=== Output

[%autowidth.spread]
|===
|Type |Any
| Attributes Type a| <<EventAttributes>>
|===

=== For Configurations

* <<Config>>



== Types

=== Reconnection

Configures a reconnection strategy for an operation.

[%header,cols="20s,25a,30a,15a,10a"]
|===
| Field | Type | Description | Default Value | Required
| Fails Deployment a| Boolean a| What to do if, when an app is deployed, a connectivity test does not pass after exhausting the associated reconnection strategy:

* `true`
+
Allow the deployment to fail.

* `false`
+
Ignore the results of the connectivity test. |  |
| Reconnection Strategy a| * <<Reconnect>>
* <<ReconnectForever>> | Reconnection strategy to use. |  |
|===

=== Reconnect

Configures a standard reconnection strategy, which specifies how often to reconnect and how many reconnection attempts the connector source or operation can make.

[%header,cols="20s,25a,30a,15a,10a"]
|===
| Field | Type | Description | Default Value | Required
| Frequency a| Number | How often to attempt to reconnect, in milliseconds. |  |
| Blocking a| Boolean | If `false`, the reconnection strategy runs in a separate, non-blocking thread. |  |
| Count a| Number | How many reconnection attempts the Mule app can make. |  |
|===

=== Reconnect Forever

Configures a forever reconnection strategy by which the connector source or operation attempts to reconnect at a specified frequency for as long as the Mule app runs.

[%header,cols="20s,25a,30a,15a,10a"]
|===
| Field | Type | Description | Default Value | Required
| Frequency a| Number | How often to attempt to reconnect, in milliseconds. |  |
| Blocking a| Boolean | If `false`, the reconnection strategy runs in a separate, non-blocking thread. |  |
|===

[[EventAttributes]]
=== Event Attributes

[%header,cols="20s,25a,30a,15a,10a"]
|===
| Field | Type | Description | Default Value | Required
| Content Type a| String |  |  |
| Correlation Id a| String |  |  |
| Enqueued Time a| DateTime |  |  |
| Message Id a| String |  |  |
| Offset a| Number |  |  |
| Sequence Number a| Number |  |  |
|===

=== Redelivery Policy

Configures the redelivery policy for executing requests that generate errors. You can add a redelivery policy to any source in a flow.

[%header,cols="20s,25a,30a,15a,10a"]
|===
| Field | Type | Description | Default Value | Required
| Max Redelivery Count a| Number | Maximum number of times that a redelivered request can be processed unsuccessfully before returning a REDELIVERY_EXHAUSTED error. |  |
| Message Digest Algorithm a| String | Secure hashing algorithm to use if the *Use Secure Hash* field is `true`. If the payload of the message is a Java object, Mule ignores this value and returns the value that the payload's `hashCode()` returned. |  |
| Message Identifier a| <<RedeliveryPolicyMessageIdentifier>> | One or more expressions that determine if a message was redelivered. This property can be set only if the *Use Secure Hash* field is `false`. |  |
| Object Store a| ObjectStore | Configures the object store that stores the redelivery counter for each message. |  |
|===

=== Redelivery Policy Message Identifier

Configures how to identify a redelivered message and how to find out when the message was redelivered.

[%header,cols="20s,25a,30a,15a,10a"]
|===
| Field | Type | Description | Default Value | Required
| Use Secure Hash a| Boolean | If `true`, Mule uses a secure hash algorithm to identify a redelivered message. |  |
| Id Expression a| String | One or more expressions that determine when a message was redelivered. You can set this property only if the *Use Secure Hash* field is `false`. |  |
|===

== See Also

* xref:connectors::introduction/introduction-to-anypoint-connectors.adoc[Introduction to Anypoint Connectors]
* https://help.mulesoft.com[MuleSoft Help Center]
