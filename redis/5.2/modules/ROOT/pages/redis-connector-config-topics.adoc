= Redis Connector 5.2 Additional Configuration Information - Mule 4
:page-aliases: connectors::redis/redis-connector-config-topics.adoc

[[savevalue]]
== Save a Value for a Key into a Redis Server

This use case describes how to use the connector to assign a value to a key in the Redis server.

. Create a new Mule project by clicking *File* > *New* > *Mule Project*.
. In the new project dialog box, provide a name for your new project and click *Finish*.
+
image::redis-new-proj.png[]
+
. Navigate through the project's structure and double click `src/main/mule/project-name.xml` to open it.
. In the *Mule Palette* view, search for http and  drag the *Listener* operation to the Studio canvas.
+
 This element is the entry point for the flow and provides the key and value to be set for that key.
 +
. From the *Mule Palette* view, search for `redis`, then drag the *Set* operation to the riht of the HTTP connector.
+
The *Set* operation sends data to the Redis server.
+
. Double click the *Redis Set* operation and set its properties as follows:
.. Set *Display Name* to *Set Value For Key Into Redis*.
.. In the *Extension Configuration* drop down, select `Redis__Configuration` or any other configuration that you configured.
.. Choose *Set* from the *Operation* drop down.
.. Set the *Key* to `#[payload.key]`.
.. Set the *Value* to `#[payload.value]`.
+
image::redis-set-config.png[]
+
. In the *Mule Palette* view,search for *Set Payload* and drag a new *Set Payload* element to the riht of Redis Connector.
+
The *Set Payload* operation creates the response for the incoming HTTP request.
+
image::redis-set-raw-flow.png[]
+
. Double-click the flow's top margin to open its properties, and change the name of the flow to `set-flow`.
+
image::redis-set-flow-config.png[]
+
. Double click the *Listener* on the Studio canvas to open its properties.
.. Click the green plus sign beside the *Connector Configuration* field.
.. Leave the default configuration and click *OK*.
.. Set the *Path* to `/`.
.. Set the *Display Name* to `Listener`.
+
image::redis-set-http-config.png[]
+
. Double click *Set Payload* and set its properties.
.. Set *Display Name* to `Set Value Response`.
.. Set *Value* to `Value Successfully Set`.
+
image::redis-set-response-config.png[]
+
. If you configured a Redis global element with placeholder values, provide values for the placeholders. Open `/src/main/resources/mule-app.properties` and provide values for following properties: `config.host`, `config.port`, and `config.connectionTimeout`.
. Deploy the app.
. Once the app is running, send an HTTP request to it to trigger its flow. Use the `curl` command line utility or an HTTP client app such as Postman to send a POST request with content-type `application/x-www-form-urlencoded` and a body in `url-encoded` format to `+localhost:8081/+`. The request body should contain a key and a value. For this you can use the following `curl` command:
+
`curl -X POST -d "key=test-key" -d "value=test-value" localhost:8081/`
+
Congratulations! You have just set a value for a key in the Redis server.


== See Also

xref:connectors::introduction/introduction-to-anypoint-connectors.adoc[Introduction to Anypoint Connectors]
https://help.mulesoft.com[MuleSoft Help Center]
