= EDIFACT EDI Connector 2.2 - Generate Control Numbers - Mule 4

Using the Write operation, the EDIFACT EDI Connector provides three ways of generating control numbers on the generated EDIFACT payload.

== Manage Global Control Numbers Through Control Number Keys

If your organization or your trading partner have a requirement to maintain the uniqueness of interchange, group, or transaction set control numbers across different identifier combinations and document types, then:

* Set the configuration `Use supplied values` to `false`.
* Leverage the control number key configurations (at the configuration level or operation level) to set a key that is unique for the partner. +
These values can be dynamically passed at the operation-level.

image::edifact-edi-connector-control-number.jpg[EDIFACT EDI Connector Control Numbers]

For example, the values for the interchange and group control number keys can be `PartnerName-UNB`. This group control number key can then be used across different identifiers and transaction types for the same partner.

== Manage Identifier Combination Control Numbers

The EDIFACT EDI Connector automatically maintains the sequencing of control numbers for the sender/receiver identifier combination, initializing the value to the number specified in the configuration.

If you want the connector to automatically maintain the sequencing based on the sender/receiver identifiers and do not have requirements for global control numbers at a partner level, then:

* This is the default behavior when no value is passed into the optional interchange, group, or transaction number key configurations.
* Set the Write configuration `Use supplied values` to `false`.

== Bring your own control number

If you need to generate the control numbers and use them on the EDI payload, you can set the parameter `Use supplied values` to `true`, and map the control number on the payload to the DataWeave map.
